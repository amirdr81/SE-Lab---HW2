# SE-Lab---HW2

# در مرحله اول، مراحل اصلی پروژه را(که شامل ۴ بخش کلی به همراه ریزجزئیات می‌باشند) شرح می‌دهیم و بورد کانبان را به منظور پیشبرد اهداف پروه برای اعضای تیم، طراحی می‌کنیم:

    مرحله ۱: تحلیل و شناسایی Code Smell
    مرحله ۲: بازآرایی برای کپسوله‌سازی و انتزاع
    مرحله ۳: معرفی وراثت و چندریختی از طریق رابط PaymentGateway
    مرحله ۴: بازآرایی پیشرفته و یکپارچه‌سازی (dependency injection و مدیریت پیکربندی)

# گزارش مرحله اول

در مرحله اول، تسک اول، مطالعه کد یکپارچه ارائه شده(که به زبان جاوا نوشته شده است) بوده و بنابر اصول SOLID، باید نواقص و یا مشکلات کد را مشخص کرد. ۴ مورد در صورت آزمایش برای بررسی لحاظ شده اند که هر یک را به طور جداگانه در مراحل مجزا، بررسی می‌کنیم:

مرحله اول: بررسی وابستگی بیش از حد!
در کد ارائه شده، متد processPayment وابسته به متدهای processCreditCard, processDigitalWallet, و processBankTransfer بوده که این موضوع، می‌تواند بعدا برای ارتقا و بهبود روش های پرداخت و اضافه کردن متد های دیگر، مشکل ساز شود. این موضوع با اصول SOLID در تناقض است.

در این بخش، اصل SRP نقض شده است، چرا که تم مسئولیت بودن متد ها را نداریم. همچنین اصل جداسازی رابط ها یا همان ISP نیز نقض شده است، چرا که رابط کاربری ما پیچیده تر از حالت استاندارد و نرمال خود است.

مرحله دوم: متدهای طولانی!
می‌توان در این مورد، به متد validatePayment اشاره کرد، چرا که دارای if و case های زیادی بوده و ممکن است در زمان بهبود کد، ارتقا آن و یا اضافه کردن هدف دیگری به سیستم، مشکل ساز شود.

در این بخش، اصل SRP نقض شده است، چرا که تم مسئولیت بودن متد ها را نداریم. همچنین اصل جداسازی رابط ها یا همان ISP نیز نقض شده است، چرا که رابط کاربری ما پیچیده تر از حالت استاندارد و نرمال خود است.

مرحله سوم: کرار کد!
واضح است که در کد ارائه شده، متد هایی مانند processCreditCard, processDigitalWallet, processBankTransfer، کار مشترکی را انجام می‌دهند و تکرار کد زیادی در این بخش، شاهد هستیم. می‌توان برای درست کردن این بخش، از یک متد و یا کلاس مشترک استفاده کرد و تغییرات جزئی در خروجی آن در بخش های مختلف، لحاظ کرد.

در این بخش، اصل تک‌مسئولیتی یا همان SRP از اصول SOLID نقض شده است، همچنین می‌توان بیان کرد که اصل باز-بسته یا همان OCP نیز نقض شده است، چرا که در صورت تصمیم برای ارتقا کد، کد برای گسترش آماده نیست!

مرحله چهارم: مسئولیت‌های نامشخص!
در کد ارائه شده، کلاس PaymentProcessor، مسئولیت های زیر را شامل می‌شود که باعث پیچیدگی این بخش از کد می‌تواند باشد و بهتر است که هر کدام از مسئولیت های بیان شده، در یک کلاس یا متد جداگانه نوشته شوند تا بعدا، در صورت نیاز به اصلاح و یا بهبود، بتوان ساده تر کار را پیش برد:

---پردازش پرداخت(PaymentProcessor)
---اعتبارسنجی(validatePayment)
---گرفتن لاگ(logTransaction)

خود است که هر کدام از این بخش ها، در کلاس جداگانه نوشته بشوند.

اصول نقض شده در مرحله چهارم نیز، مشابه مرحله سوم(کد تکراری) هستند.
